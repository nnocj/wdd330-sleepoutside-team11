import{g as r,s as d,l as c,a as s}from"./utils-Diqr6REO.js";import{c as n,P as i}from"./ProductData-njUseP_z.js";class u{constructor(o,e){this.productId=o,this.dataSource=e,this.path=`../json/${this.dataSource.category}.json`,this.productsByCategory={},this.product={}}async getProductsByCategoryId(){return fetch(this.path).then(n).then(o=>o.Result)}async findProductDataByProductId(o){return(await this.getProductsByCategoryId()).find(a=>a.Id===o)}async init(){this.productsByCategory=await this.getProductsByCategoryId(),this.product=await this.findProductDataByProductId(this.productId),console.log("Products by category:",this.productsByCategory),console.log("Products:",this.product),console.log("ID:",this.productId),console.log("Datasource:",this.dataSource),console.log("Product category:",this.dataSource.category),console.log("Brand:",this.product.Brand),this.renderProductDetails(),document.getElementById("addToCart").addEventListener("click",this.addProductToCart.bind(this))}addProductToCart(){const o=r("so-cart")||[];o.push(this.product),d("so-cart",o)}renderProductDetails(){l(this.product)}}function l(t){document.querySelector("h2").textContent=t.Brand.Name,document.querySelector("h3").textContent=t.NameWithoutBrand;const o=document.getElementById("productImage");o.src=t.Images?t.Images.PrimaryMedium:t.Image,o.alt=t.NameWithoutBrand,document.getElementById("productPrice").textContent=t.FinalPrice,document.getElementById("productColor").textContent=t.Colors[0].ColorName,document.getElementById("productDesc").innerHTML=t.DescriptionHtmlSimple,document.getElementById("addToCart").dataset.id=t.Id}c();const g=new i,y=s("product"),h=new u(y,g);h.init();
